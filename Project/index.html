<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black"> -->
    <meta name="Copyright" content="Copyright (c) 2017-2018 xlstar">
    <title>艺术节</title>
    <meta name="description" content="为艺术而生，窥艺术之美">
    <meta name="keywords" content="展览，艺术，交流，联合">
    <script src="iphone-inline-video.js"></script>
    <script src="mmd-plugin.min.1.0.2.js" charset="utf-8"></script>
    <script src="mmd.videoplayer.min.1.0.1.js" charset="utf-8"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;

        }
        /* .video-pop{width:100%;height:100%;background:#000;position:fixed;top:0;left:0;z-index:998;display:none;}
        .video-pop .video{display:block;width:100%;height:100%;position:relative;}
        .video-pop .tenvideo_player{position:absolute;}
        .close{width:40px;height:40px;color:#fff;position:absolute;top:0;right:0;text-align:center;line-height:40px;font-size:40px;text-decoration:none;z-index:999;} */
        .mask, .intoduction{
                position: fixed;
                text-align: center;
                width: 100%;
                height: 100%;
                background-color: rgba(58, 21, 21, 0.51);
        }
        .button{
                    position: absolute;
                    background-color: #080808;
                    color: #b344df;
                    border-radius: 10px;
                    width: 60px;
                    height: 30px;
                    right: 40%;
                    border: none;
                    top: 40%;
        }
        .continue{
            top: 40%;
        }
        .text{
            top: 20px;
            position: relative;
            color: #492563b3;
        }
    </style>
</head>
<body>
    <!--
参数简易说明:
1.view-mode = "v" "v"竖屏,"h"横屏;
2.view-rotation="auto" 默认"auto" 自动旋转,"v"竖屏可视,"h"横屏可视;
3.view-scale="exactfit" 缩放模式 默认"exactfit";
                    "exactfit":高宽等于屏幕高宽;
                    "noborder":裁剪铺满;
                    "noscale":不缩放;
                    "showall":显示全部;
                    "width":宽度等于屏幕宽;
                    "height":高度等于屏幕高;
4.view-align="",默认为"" 居中;
                    "t":靠顶;
                    "l":靠左;
                    "r":靠右;
                    "b":靠底;
                    可以结合一起用，比如"tl","tr","bl","br";
5.view-width="400" 目标宽 默认"400";
6.view-height="400" 目标高 默认"400";
-->
<div view-mode="h"  view-rotation="auto" view-scale="height" view-width="426" view-height="240" >
   <!--  <div view-mode="h"  view-rotation="auto" view-scale="width" view-width="426" view-height="240" > -->
    <div class="mask" id="1">
        <button type="button" class="button" onclick="start()">开始</button>
    </div>
  <div style="position: absolute;" id="3">
      <video id="video" style="display:none;"></video>
  </div>
  <div class="intoduction" id="2" style="display: none">
      <div class="continue">
          <span class="text">还没有结束</span>
          <button type="button" class="button" onclick="start2()">继续</button>
      </div>
  </div>
  <img src="17.jpg" alt="" style="width: 100%;display: none" id="4">
</div>
<script>
function start(){
    var mask=document.getElementById('1');
    mask.style.display="none";
    videoPlayer.muted=false;
    videoPlayer.play();
}
function start2(){
    var mask=document.getElementById('2');
    videoPlayer.src=src2;
    mask.style.display="none";
    videoPlayer.muted=false;
    videoPlayer.play();
}
var src2='http://pczr1g7oj.bkt.clouddn.com/Halsey%20-%20Without%20Me.mp4';
var src="http://pczr1g7oj.bkt.clouddn.com/Alan%20Walker,Au%EF%BC%8FRa,Tomine%20Harket%20-%20Darkside.mp4"  


var videoPlayer=new MMD.VideoPlayer(
  {             
      videoElement:document.getElementById('video'),//[必填],video元素;
      src:src,//[必填],video src;
      loop:false,//[可选],是否循环,默认false,true为循环;
      muted:true,//[可选],是否静音,默认false,IOS下只有IOS10生效,安卓生效;
      poster:'',//[可选],video默认图片;
      tryMultipleVideoPlayAtTheSameTime:false,//[可选],尝试同时播放多个视频,默认false;
      timesParam:[
          {name:'firstPoint',time:1}
      ],//[可选],video currenttime时间点;
      onTimes:function(name){                
          console.log(name)                
          switch (name)
          {                    
              case 'firstPoint':                                    
                  break;
          }
      },//[可选],video currenttime回调;
      onStart:function(){                
          console.log('video start');
          starttime();
      },//[可选],video第一个画面出现回调;
      onEnd:function(){
        if(videoPlayer.src===src2)
        {
            var end=document.getElementById('4');
            end.style.display="block";

        }
        else {
            var mask2=document.getElementById('2');
            mask2.style.display="block";
        }
       
      }//[可选],video播放完成回调;
  }
);    //当isVideoCanAutoPlay属性为true时,则代表允许自动播放;
//false时,则需要通过用户点击才能播放视频;
// if(videoPlayer.isVideoCanAutoPlay)
// {
//   videoPlayer.play();
// }    
// else
// {
// // videoPlayer.play();
//   //click to play;
// }  
function starttime(){
    console.log(videoPlayer.src);
    if(videoPlayer.src===src)
    {
        console.log("Yes");

    }
}  


 // var btn=document.getElementById('startPlay');
 //    if(videoPlayer.isVideoCanAutoPlay)
 //    {
 //        videoPlayer.play();
 //    }
 //    else
 //    {
 //        btn.style.display='block';
 //        btn.addEventListener('click',function(e)
 //        {
 //            btn.style.display='none';
 //            videoPlayer.play();
 //        });
 //    }

</script>
</body>
</html>
